<%- include("../partials/user/header.ejs") %>
<%- include("../partials/user/navbar.ejs") %>

  <div class="container-fluid mb-4 mt-5 pt-5">
    <a href="/product/all"><img class="img-fluid banner" src="/uploads/re-image/<%= banner.image %>" alt=""></a>
  </div>

  <div class="container text-center">
    <h2 class="explore">EXPLORE BY CATEGORY</h2>
  </div>

  <div class="container mt-5">

  <!-- Left/Right Scroll Buttons -->
  <div class="scroll-buttons mb-2">
    <button onclick="scrollLeft('cardRow')">&larr;</button>
    <button onclick="scrollRight('cardRow')">&rarr;</button>
  </div>

  <!-- Horizontal Scrollable Card Row -->
   
  <div class="scroll-container d-flex justify-content-center" id="cardRow">
    <% category.forEach(cat => { %>
      <a href="/product/all?category=<%= cat._id %>" class="text-decoration-none text-dark">
        <div class="card product-card hover-card">
          <img src="<%= cat.image %>" class="card-img-top " alt="<%= cat.name %>">
          <div class="card-body p-2">
            <h6 class="card-title text-center mb-0"><%= cat.name %></h6>
          </div>
        </div>
      </a>
    <% }) %>
  </div>
</div>


<div class="container text-center">
    <h2 class="explore mt-5">TOP TRENDS</h2>
  </div>

  <div class="container mt-5">

  <!-- Left/Right Scroll Buttons -->
  <div class="scroll-buttons mb-2">
    <button onclick="scrollLeft('secondRow')">&larr;</button>
    <button onclick="scrollRight('secondRow')">&rarr;</button>
  </div>

  <!-- Horizontal Scrollable Card Row -->
  <div class="scroll-container d-flex justify-content-center mb-5" id="secondRow">
    <% products.slice(0,7).forEach(product => { %>
      <a href="/product/all?search=<%= product.productName %>" class="text-decoration-none text-dark">
        <div class="card hover-card  product-card pro-card">
          <img src="/uploads/re-image/<%= product.productImage[0] %>" class=" " alt="<%= product.productName %>">
          <div class="card-body p-2">
            <h6 class="card-title d-block text-center text-truncate mb-0" ><%= product.productName %></h6>
          </div>
        </div>
      </a>
    <% }) %>
  </div>
</div>

<%- include("../partials/user/footer.ejs") %>

  <!-- Bootstrap JS Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
     
    function scrollLeft(containerId) {
      const scrollContainer = document.getElementById(containerId);
      scrollContainer.scrollBy({ left: -200, behavior: 'smooth' });
    }

    function scrollRight(containerId) {
      const scrollContainer = document.getElementById(containerId);
      scrollContainer.scrollBy({ left: 200, behavior: 'smooth' });
    }
  </script>
</body>
</html>
